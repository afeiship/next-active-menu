/*!
 * name: next-active-menu
 * url: https://github.com/afeiship/next-active-menu
 * version: 1.0.0
 * date: 2019-07-11T03:38:23.631Z
 * license: MIT
 */
!function(){var e=e||this||window||Function("return this")(),t=e.nx||require("next-js-core2"),n=t.Tree||require("next-tree"),r=t.traverse||require("next-traverse"),i=t.deepClone||require("next-deep-clone"),u=require("path-to-regexp"),a={itemsKey:"children"},o=t.declare("nx.ActiveMenu",{methods:{init:function(e,r){this.options=t.mix(null,a,r),this.dataTree=new n(e,this.options)},match:function(e){var n=null,r=[];return this.dataTree.traverse(function(r,i){if(u(i.value).test(e))return n=i,t.BREAKER}),n&&(r=[n].concat(this.dataTree.ancestors(n))),r.map(function(e){return e.value})},active:function(e){var t=[],n=e.map(function(e){return u(e)}),r=function(e){return n.some(function(t){return t.test(e.value)})};return this.dataTree.traverse(function(e,n){n.active=r(n),n.active&&t.push(n)}),t},serialize:function(){var e=i(this.dataTree.data);return r(e,function(e,t){delete t.__parent__,delete t.__children__},this.options),e}}});"undefined"!=typeof module&&module.exports&&(module.exports=o)}();